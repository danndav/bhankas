{"version":3,"sources":["../../server/tests/transactionDummy.test.js"],"names":["chai","use","chaiHttp","should","describe","it","done","request","server","get","end","err","res","body","have","property","to","equals","be","an","accountNumber","post","send","amount","cachier","status","console","log"],"mappings":"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","sourcesContent":["import chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport server from '../app';\n\nchai.use(chaiHttp);\nchai.should();\n\ndescribe('UNIT TESTS FOR DUMMY TRANSACTION CONTROLLERS', () => {\n  /*\n     * Test the /GET route\n     */\n  describe('/GET REQUEST', () => {\n    it('it should GET all transactions', (done) => {\n      chai\n        .request(server)\n        .get('/api/v1/getTransactions/')\n        .end((err, res) => {\n          res.body.should.have\n            .property('message')\n            .to.equals('Successfully fetched all Transactions');\n          res.body.should.have.property('status').to.equals(200);\n          res.body.should.have.property('data').to.be.an('array');\n          done();\n        });\n    });\n  });\n\n  describe('/POST REQUEST', () => {\n    it('it should credit an account ', (done) => {\n      const accountNumber = 987654321;\n      chai\n        .request(server)\n        .post(`/api/v1/transactions/${accountNumber}/credit`)\n        .send({\n          amount: 33200,\n          cachier: 3,\n        })\n        .end((err, res) => {\n          res.should.have.status(201);\n          res.body.should.have.property('status').to.equals(201);\n          res.body.should.have.property('data').to.be.an('object');\n\n\n          done();\n        });\n    });\n\n\n    it('it should reject unavailable acccount ', (done) => {\n      const accountNumber = 11682992799;\n      chai\n        .request(server)\n        .post(`/api/v1/transactions/${accountNumber}/credit`)\n        .send({\n          amount: 200.20,\n          cachier: 3,\n        })\n        .end((err, res) => {\n          res.should.have.status(404);\n          res.should.have.property('status').to.equals(404);\n          res.body.should.have\n            .property('error')\n            .to.equals('This account  does not exist');\n\n          done();\n        });\n    });\n  });\n\n\n  describe('/POST REQUEST', () => {\n    it('it should debit an account ', (done) => {\n      const accountNumber = 987654321;\n      chai\n        .request(server)\n        .post(`/api/v1/transactions/${accountNumber}/debit`)\n        .send({\n          amount: 33,\n          cachier: 3,\n        })\n        .end((err, res) => {\n          console.log(res);\n\n          res.should.have.status(201);\n          res.body.should.have.property('status').to.equals(201);\n          res.body.should.have.property('data').to.be.an('object');\n\n\n          done();\n        });\n    });\n\n\n    it('it should reject if requested amount is greater than balance  ', (done) => {\n      const accountNumber = 987654321;\n      chai\n        .request(server)\n        .post(`/api/v1/transactions/${accountNumber}/debit`)\n        .send({\n          amount: 5000000.20,\n          cachier: 3,\n        })\n        .end((err, res) => {\n          res.should.have.status(400);\n          res.should.have.property('status').to.equals(400);\n          res.body.should.have\n            .property('error')\n            .to.equals('insufficent account balance');\n\n          done();\n        });\n    });\n\n\n    it('it should reject unavailable acccount ', (done) => {\n      const accountNumber = 11682992799;\n      chai\n        .request(server)\n        .post(`/api/v1/transactions/${accountNumber}/debit`)\n        .send({\n          amount: 200.20,\n          cachier: 3,\n        })\n        .end((err, res) => {\n          res.should.have.status(400);\n          res.should.have.property('status').to.equals(400);\n          res.body.should.have\n            .property('error')\n            .to.equals('This account  does not exist');\n\n          done();\n        });\n    });\n  });\n});\n"],"file":"transactionDummy.test.js"}